.block
  .hd
  .bd
    %p
      %b
        Content:
      = h @teacher_question.content
    %p
      %b
        Question type:
      = h @teacher_question.question_type
    %p
      %b
        Picture:
      = image_tag @teacher_question.picture.picture.url if @teacher_question.picture
    %p
      %b
        Tags:
      = h @teacher_question.tags.to_sentence(:last_word_connector => ', ', :two_words_connector => ', ')
    = link_to 'Edit', edit_teacher_question_path(@teacher_question)
    %h3 Answers:
    %table
      %thead
        %tr
          %td
            Content
          %td
            Points
          %td
            Picture
          %td
      %tbody
        = render @teacher_question.teacher_answers
    - unless @teacher_question.question_type == 'text_field' and !@teacher_question.teacher_answers.empty?
      - semantic_form_for TeacherAnswer.new(:teacher_question => @teacher_question, :picture => Picture.new), :html => { :multipart => true } do |f|
        = f.input :teacher_question_id, :as => :hidden
        = f.input :content, :required => false
        = f.input :points
        - f.fields_for :picture do |fp|
          = fp.input :picture, :as => :file, :required => false
        - f.buttons do
          = f.commit_button "Create"
= render :partial => 'sidebar/teacher_questions'
